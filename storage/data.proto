syntax="proto3";

option go_package="proto/";

service CacheInteract {
  rpc MapInsert(MapInsertInput) returns (MapInsertResult);
  rpc MapFetch(MapFetchInput) returns (MapFetchResult);
  rpc MapDelete(MapDeleteInput) returns (MapDeleteResult);

  rpc QueueInsertFront(QueueInsertInput) returns (QueueInsertOutput);
  rpc QueueInsertBack(QueueInsertInput) returns (QueueInsertOutput);
  rpc QueueRemoveFront(QueueRemoveInput) returns (QueueRemoveOutput);
  rpc QueueRemoveBack(QueueRemoveInput) returns (QueueRemoveOutput);

  rpc InsertToSet(InsertToSetInput) returns (InsertToSetOutput);
  rpc GetSetValues(GetSetValuesInput) returns (GetSetValuesOutput);
  rpc SetHasMember(SetHasMemberInput) returns (SetHasMemberOutput);
  rpc SetRemoveMember(SetRemoveMemberInput) returns (SetRemoveMemberOutput);
}

message MapInsertInput {
  string key=1;
  string value=2;
}

message MapFetchInput {
  string key=1;
}


message MapDeleteInput {
  string key=1;
}

message MapInsertResult {
  int32 result=1;
}

message MapFetchResult {
  string value=1;
}

message MapDeleteResult {
  int32 result=1;
}

message QueueInsertInput {
  string key=1;
  bytes value=2;
}

message QueueInsertOutput {
  int32 result=1;
}

message QueueRemoveInput {
  string key=1;
}

message QueueRemoveOutput {
  bytes value=1;
}

message InsertToSetInput {
  string key=1;
  repeated string value=2;
}

message InsertToSetOutput {
  int32 result=1;
}

message GetSetValuesInput {
  string key=1;
}

message GetSetValuesOutput {
  repeated string values=1;
}

message SetHasMemberInput {
  string key=1;
  string value=2;
}

message SetHasMemberOutput {
  bool hasValue=1;
}

message SetRemoveMemberInput {
  string key=1;
  string value=2;
}

message SetRemoveMemberOutput {
  int32 result=1;
}
